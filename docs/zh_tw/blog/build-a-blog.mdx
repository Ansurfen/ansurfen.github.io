---
pubDatetime: 2025-05-21
title: 利用 Astro 搭建個人部落格
description: 🌟 記錄一下部落格框架選型的歷程
category: 隨筆
series: 學習分享
tags:
    - 學習
    - 部落格
    - VuePress
    - Hugo
    - Hexo
    - Astro
    - WorkFlow
---

## 🛠️ 框架選型
1. VuePress → 適合文件，部落格生態較弱 📄
    * 文件友好但部落格功能有限
    * 主題選擇偏向技術文件風格
2. Hugo → 配置複雜（extended 需要 GCC）、破壞性更新 ⚠️
    * 需要GCC工具鏈編譯
    * 版本更新經常不向後兼容
    * 主題依賴特定版本導致執行失敗
3. Hexo → Node.js 生態友好，但主題選擇有限 🌀
    * 基於Node.js開發環境簡單
    * 但主題同質化嚴重，缺乏讓人眼前一樣的風格
4. Astro → 最終選擇！✨
    * 配置方便、UI靈活
    * 缺點是還需要學習其獨特的混合渲染模式

> 💡 Astro的渲染模式解析：
> Astro採用獨特的"靜態生成+按需激活"模式。預設情況下所有元件都是服務端渲染(SSR)，生成靜態HTML。當需要互動性時，可以選擇性激活部分元件進行客戶端渲染(CSR)，這種"元件島嶼"模式既保證了首屏速度，又提供了必要的互動體驗。

嘰裡呱啦了一堆，實際開發其實就是 TypeScript 和 Markdown 混合編寫。需要樣式的時候寫程式碼自己加，寫完樣式後再往這個樣式上應用 Markdown。

那麼代價是什麼？原本只需用簡單編寫 Markdown 就能完成的部落格，因為靈活性需要上手編寫 Astro 檔案控制 UI 樣式實現這種靈活性。不過，為了實現自訂樣式，對於非程式碼小白來說這一切目前看起來是值得的。我甚至還試著給搭建部落格封裝的函數用 vitest 編寫了單元測試 ：）。

## 🎢 開發歷程
前前後後花了2天時間可算是搭建出了自己稍微滿意的部落格了。

一開始想著用之前的常用的 Vuepress 框架搭建，但是找了一圈主題，發現相較於部落格，他更適合文件。就像拿著螺絲刀擰螺母，能用但不順手。

接著，翻到了 Hugo 但是發現配置起來麻煩，找到的主題需要 extended 版本，且安裝他居然還要 gcc 工具鏈。

又倒騰了一伙把環境配置好後才知道，Hugo的更新大部分都是破壞性的，每次更新都不會兼容之前的版本，導致選中的模板無法順利執行，遂止。

接著，把目光投向了 Hexo，相較於 Hugo。採用NodeJS作為開發語言的Hexo算是比較友好的，但是翻了半天，還是沒翻到滿意的主題。

在詢問了 AI 後得知了 Astro 框架的存在。在瀏覽了大量免費的 Blog 分類模板後，終於找到了還算是滿意的主題。

一開始還是比較激動的，但是後面編寫過程一言難盡。我一開始以為 `---` 語法和` <script>` 一樣別無二致，只是一個語法糖。後來才發現這是Astro區分服務端程式碼和客戶端程式碼的關鍵標記。服務端程式碼在建置時執行，客戶端程式碼在瀏覽器中執行。

然後就是多語言部分，官方的demo目錄結構感覺很不符合邏輯，不是 en_us / zh_cn 目錄下面一把梭哈所有內容，而是在不同的內容目錄下面拆分語言。經過不斷的妥協，勉強弄了個自己還算看的過去的部落格。

## 🚀 部署經歷

不得不說，Github WorkFlow 以及 Pages 為開發者帶來了很多便利。但是寫yaml指令碼的過程，時常讓人感到不自在，束手束腳。

因此，為了上線我的個人部落格以及 metrics 統計資料生成，我前前後後因為這個問題commit了20多次，改了試，試了改。最後以新建倉庫單獨引用metrics而告終。

可能是我的需求有點特殊，我需要生成 Github Metrics 圖片，然後讓我的部落格引用他，而我的部落格和它都部署在同一個url下面。

一開始 AI 寫了兩份yaml，如果一起執行就會相互覆蓋。接著，我就讓 AI 嘗試合二為一，但是宣告了 filename 欄位後不知道什麼原因 metrics.svg 檔案沒有正確生成。

最後不得不分了將這兩個工作流分配在了兩個倉庫當中解決。好在問題也算是解決了。