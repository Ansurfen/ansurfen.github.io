---
pubDatetime: 2025-07-19
title: è€—æ—¶ä¸€å‘¨ï¼Œæˆ‘çš„ç¼–ç¨‹è¯­è¨€ Hulo æ–°å¢ Bash è½¬è¯‘å’ŒåŒ…ç®¡ç†å·¥å…·
description: Huloå¼€å‘çš„ç¬¬äºŒä¸ªç‰ˆæœ¬å‘å¸ƒ
category: éšç¬”
series: Hulo å¼€å‘
tags:
    - å­¦ä¹ 
    - ç¼–ç¨‹è¯­è¨€
    - Hulo
    - Bash
    - åŒ…ç®¡ç†å·¥å…·
    - REPL
---

å˜¿ï¼Œè„šæœ¬å¼€å‘è€…ä»¬ï¼

è¿˜è®°å¾—ä¸Šå‘¨æˆ‘ä»‹ç»çš„é‚£ä¸ªèƒ½ç¼–è¯‘æˆ VBScript çš„ç°ä»£ç¼–ç¨‹è¯­è¨€ Hulo å—ï¼Ÿè¿™å‘¨å®ƒåˆæœ‰äº†é‡å¤§æ›´æ–°ï¼

## ğŸš€ æœ¬å‘¨é‡ç£…æ›´æ–°

### 1. **Bash è½¬è¯‘å™¨æ­£å¼ä¸Šçº¿ï¼**

æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Hulo ç°åœ¨ä¸ä»…æ”¯æŒ VBScriptï¼Œè¿˜æ”¯æŒ Bash äº†ï¼

è¿™æ„å‘³ç€ä½ å¯ä»¥ç”¨åŒä¸€å¥—ç°ä»£è¯­æ³•ï¼ŒåŒæ—¶ç”Ÿæˆ Windows å’Œ Linux/macOS çš„è„šæœ¬ï¼š

```rust
// main.hl
class User {
    pub name: str
    pub age: num

    pub fn to_str() -> str {
        return "User(name: $name, age: $age)"
    }

    pub fn greet(other: str) {
        MsgBox "Hello, $other! I'm $name."
    }
}

let u = User("John", 20)
MsgBox $u.to_str();
$u.greet("Jane");
```

åœ¨æ–‡ä»¶æ‰€åœ¨çš„å·¥ä½œç›®å½•æ‰§è¡Œ `hulo main.hl` å‘½ä»¤å³å¯å¾—åˆ°ä¸¤ä»½è½¬è¯‘åçš„æ–‡ä»¶ï¼ˆå½“ç„¶ Hulo å‘½ä»¤è¿˜æ”¯æŒå…¶ä»–åŠŸèƒ½ï¼Œä»¥åŠä» huloc.yaml è¯»å–é…ç½®ï¼Œåœ¨æ­¤å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œå¯ä»¥é€šè¿‡ `hulo -h` æŸ¥çœ‹ï¼Œæˆ–è€…æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£ï¼‰ã€‚

**ç”Ÿæˆçš„ Bash ä»£ç ï¼š**
```bash
#!/bin/bash
function create_user() {
  local name=$1
  local age=$2
  declare -A user
  user["name"]=$name
  user["age"]=$age
  echo "$(declare -p user)"
}
function user_to_str() {
  eval "declare -A user=${1}"
  echo "User(name: $name, age: $age)"
}
function user_greet() {
  eval "declare -A user=${1}"
  local other=$2
  MsgBox "Hello, $other! I'm $name."
}

u=$(create_user "John" 20)
MsgBox $(user_to_str $u)
user_greet $u "Jane"
```

**ç”Ÿæˆçš„ VBScript ä»£ç ï¼š**
```vb
Class User
  Public name
  Public age
  Public Function to_str()
    to_str = "User(name: " & name & ", age: " & age & ")"
  End Function
  Public Function greet(other)
    MsgBox("Hello, " & other & "! I'm " & name & ".")
  End Function
End Class
Set u = New User
u.name = "John"
u.age = 20
MsgBox(u.to_str())
u.greet("Jane")
```

è‡³æ­¤ï¼Œçœ‹èµ·æ¥ä¸€åˆ‡æ­£å¸¸å¯¹å—ï¼Ÿä¸å¹¸çš„æ˜¯ï¼Œåœ¨ Bash å¹³å°ä¸Šçš„ä»£ç æ˜¯æ— æ³•æ­£å¸¸è¿è¡Œçš„ï¼Œä»–ä¼šå› ä¸ºç¼ºå°‘ MsgBox è€ŒæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ Hulo ä»£ç ä¸­ä½¿ç”¨çš„æ˜¯ MsgBox è€Œé echoã€‚å› æ­¤ï¼Œå¦‚æœä½ æƒ³è®©ä»–æ­£å¸¸è¿è¡Œå°±éœ€è¦å°† MsgBox æ›´æ”¹ä¸º echo åœ¨è¿›è¡Œè½¬è¯‘ã€‚ä½†æ˜¯ï¼Œè¿™ä¸å°±å’Œ Hulo çš„è·¨å¹³å°å®£ä¼ äº§ç”Ÿå†²çªäº†ï¼Ÿhhhï¼ŒåŸå› æ˜¯ç±»ä¼¼ `use MsgBox = If<$platform == "vbs", MsgBox, If<$platform == "powershell", Write-Host, echo>>` çš„è¯­æ³•ç³–è¿˜æ²¡æœ‰å®Œå·¥ï¼Œé€ æˆäº†å‘½ä»¤æ²¡æ³•è½¬è¯‘çš„å‰²è£‚æ„Ÿã€‚Hulo ä¹Ÿä¸æƒ³é‡‡ç”¨ç¡¬ç¼–ç çš„æ–¹å¼å¼ºè¡ŒæŠŠå‘½ä»¤åœ¨è½¬è¯‘å™¨ä¸­åšè½¬æ¢ï¼Œç”±æ­¤å¸¦æ¥äº†æ¯”è¾ƒå·®çš„å¼€å‘ä½“éªŒã€‚è¿™ä¸ªç‰¹æ€§å°†åœ¨æœªæ¥çš„ç‰ˆæœ¬å®ç°ï¼Œè¯·ç»™ Hulo ä»¥æ—¶é—´ã€‚

Ps. Hulo å°†è¿™ä¸ªç‰¹æ€§ç§°ä¹‹ä¸ºå‘½ä»¤ä½“æ“ï¼Œä¸ºäº†å®ç°è¿™ä¸ªç‰¹æ€§ï¼ŒHuloå¸å–äº† TypeScript ç±»å‹ä½“æ“çš„æ‰€æœ‰ä¼˜ç‚¹ï¼Œè¿™æ„å‘³ç€è¿™å¥—ç³»ç»Ÿå°†è¿å¸¦ç€ Omitã€Pickã€Exclude ç­‰ç±»å‹å·¥å…·ä¸€åŒæ„æˆå¼ºå¤§çš„å‘½ä»¤ç³»ç»Ÿã€‚

### 2. **åŒ…ç®¡ç†å·¥å…· HLPM æ¥äº†ï¼**

`hlpm` çš„æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯åˆ†å‘ç¬¬ä¸‰æ–¹åº“ï¼Œç”±äº import æš‚æ—¶ä¸æ”¯æŒæ¨¡å—è§£æï¼Œå°½ç®¡ hlpm æ ¸å¿ƒåŠŸèƒ½å·²ç»å¼€å‘å®Œæˆï¼Œä½†æ˜¯è°ƒç”¨æ¨¡å—çš„è¿è¡Œè¿˜æ˜¯ä¸æ”¯æŒçš„ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥ç”¨å…¶å…ˆåˆå§‹åŒ–é¡¹ç›®ï¼Œå¹¶ç¼–å†™ `hulo.pkg.yaml` å’Œ `huloc.yaml` æ–‡ä»¶æ§åˆ¶é¡¹ç›®çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿™æœ‰ç‚¹ç±»ä¼¼äº `package.json` å’Œ `tsconfig.json` çš„ä½œç”¨ã€‚

```bash
# åˆå§‹åŒ–æ–°é¡¹ç›®
hlpm init my-script

# è¿è¡Œè„šæœ¬
hlpm run test

# è¿è¡Œæ–‡ä»¶ï¼Œç­‰ä»·äº hulo main.hl
hlpm run main.hl
```

### 3. **äº¤äº’å¼å¼€å‘ç¯å¢ƒ Hulo-REPL**

æ–°å¢äº† `hulo-repl` å‘½ä»¤ï¼š
- [x] ä»£ç è¡¥å…¨
- [x] ä¸»é¢˜è®¾ç½®
- [ ] å®æ—¶è¯æ³•åˆ†æã€è¯­æ³•åˆ†æè°ƒè¯•ï¼ˆå³å°†ä¸Šçº¿ï¼‰
- [ ] å®æ—¶è½¬è¯‘ï¼ˆå³å°†ä¸Šçº¿ï¼‰

```bash
PS C:\hulo> hulo-repl

  Hulo-REPL dev

  âœ  Type help for commands, exit to quit

>>> e
      else    Else statement
      enum    Enum declaration
      extend  Extend declaration
      exit    Exit the REPL
```

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### é‡æ„äº† VBScript è½¬è¯‘å™¨

- ä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œæ›´æ˜“ç»´æŠ¤
- ä¿®å¤äº†`echo "Hello World"`å­—ç¬¦ä¸²è½¬è¯‘é—®é¢˜

æœ¬æ¬¡æ›´æ–°æ˜¯ä¸€æ¬¡ç ´åæ€§æ›´æ–°ï¼Œv0.1.0 ç‰ˆæœ¬æ‰€å®ç°çš„åŠŸèƒ½å¯èƒ½éƒ¨åˆ†æ— æ³•åœ¨ v0.2.0 è¿è¡Œã€‚å°¤å…¶æ˜¯æ¶‰åŠåˆ° import çš„åœ°æ–¹ï¼Œæ¨¡å—çš„è®¾è®¡ä¼šåœ¨æ¥ä¸‹æ¥æ›´è¿‘ã€‚

### é…ç½®ç³»ç»Ÿå‡çº§
- `hulo` å‘½ä»¤ç°åœ¨æ”¯æŒä»å·¥ä½œç›®å½•çš„ `huloc.yaml` è¯»å–é…ç½®
- æ›´çµæ´»çš„é¡¹ç›®é…ç½®ç®¡ç†

## ğŸš§ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **Batch è½¬è¯‘æ”¯æŒ** - è®© Hulo åœ¨ Windows ä¸Šæ›´å¼ºå¤§
2. **åŒ…å‘å¸ƒç³»ç»Ÿ** - è®©ç¤¾åŒºèƒ½åˆ†äº«å’Œå¤ç”¨ä»£ç 
3. **Import ç³»ç»Ÿ** - æ”¯æŒç¬¬ä¸‰æ–¹åº“å¯¼å…¥
4. **å‘½ä»¤ä½“æ“** - æ›´æ™ºèƒ½çš„ä»£ç ç”Ÿæˆ

## ğŸ’­ å†™åœ¨æœ€å

é¡¹ç›®åœ°å€ï¼šhttps://github.com/hulo-lang/hulo

å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰æ„æ€ï¼Œæ¬¢è¿åœ¨ GitHub æ issue æˆ–å‚ä¸è®¨è®ºï¼ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼Œè®©æ›´å¤šäººçœ‹åˆ°è¿™ä¸ªé¡¹ç›®ã€‚

ä½ è§‰å¾—è¿™ç§"ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¹³å°è¿è¡Œ"çš„è„šæœ¬å¼€å‘æ–¹å¼æ€ä¹ˆæ ·ï¼Ÿæœ‰ä»€ä¹ˆå»ºè®®æˆ–æƒ³æ³•å—ï¼Ÿ
